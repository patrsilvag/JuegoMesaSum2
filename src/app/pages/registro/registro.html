<section class="registro-container">
  <h2 class="text-center mb-4">Formulario de Registro</h2>

  <form [formGroup]="form" (ngSubmit)="submit()" class="registro-form">
    <!-- NOMBRE -->
    <label>Nombre completo:</label>
    <input
      type="text"
      class="form-control"
      formControlName="nombre"
      placeholder="Ej: Patricio Silva"
    />
    <small *ngIf="campo('nombre').touched && campo('nombre').invalid" class="error">
      Ingresa un nombre vÃ¡lido.
    </small>

    <!-- USUARIO -->
    <label>Nombre de usuario:</label>
    <input type="text" class="form-control" formControlName="usuario" placeholder="Ej: PSilva" />
    <small *ngIf="campo('usuario').touched && campo('usuario').invalid" class="error">
      Debe tener al menos 3 caracteres.
    </small>

    <!-- CORREO -->
    <label>Correo electrÃ³nico:</label>
    <input
      type="email"
      class="form-control"
      formControlName="correo"
      placeholder="Ej: PSilva@gmail.com"
    />
    <small *ngIf="campo('correo').touched && campo('correo').invalid && !campo('correo').errors?.['existe']" class="error">
      Ingresa un correo vÃ¡lido.
    </small>
    <small *ngIf="campo('correo').errors?.['existe']" class="error">
      Este correo ya se encuentra registrado.
    </small>

    <!-- CLAVE -->
    <label>Clave de ingreso:</label>
    <div class="input-group password-group">
      <input [type]="verClave ? 'text' : 'password'" class="form-control" formControlName="clave" />
      <button type="button" class="btn-ojo" (click)="verClave = !verClave">ğŸ‘ï¸</button>
    </div>

    <!-- REGLAS -->
    <div class="reglas" *ngIf="campo('clave').touched">
      <span [class.ok]="!campo('clave').errors?.['minlength']">MÃ­n. 6</span>
      <span [class.ok]="!campo('clave').errors?.['maxlength']">MÃ¡x. 18</span>
      <span [class.ok]="!campo('clave').errors?.['uppercase']">MayÃºscula</span>
      <span [class.ok]="!campo('clave').errors?.['number']">NÃºmero</span>
    </div>

    <!-- REPETIR CLAVE -->
    <label>Repetir clave:</label>
    <div class="input-group password-group">
      <input
        [type]="verClave2 ? 'text' : 'password'"
        formControlName="repetirClave"
        class="form-control"
      />
      <button type="button" class="btn-ojo" (click)="verClave2 = !verClave2">ğŸ‘ï¸</button>
    </div>

    <small *ngIf="form.errors?.['noCoinciden'] && campo('repetirClave').touched" class="error">
      Las claves no coinciden.
    </small>

    <!-- FECHA -->
    <label>Fecha de nacimiento:</label>
    <input type="date" formControlName="fechaNacimiento" class="form-control" />
    <small
      *ngIf="
        campo('fechaNacimiento').errors &&
        (campo('fechaNacimiento').dirty || campo('fechaNacimiento').touched)
      "
      class="error"
    >
      <span *ngIf="campo('fechaNacimiento').errors?.['required']"> La fecha es obligatoria. </span>
      <span *ngIf="campo('fechaNacimiento').errors?.['fechaFutura']">
        La fecha no puede ser futura.
      </span>
      <span *ngIf="campo('fechaNacimiento').errors?.['edadMinima']">
        Debes tener al menos 13 aÃ±os.
      </span>
    </small>

    <!-- DIRECCIÃ“N -->
    <label>DirecciÃ³n de despacho (opcional):</label>
    <input type="text" formControlName="direccion" class="form-control" />

    <!-- BOTONES -->
    <div class="botones">
      <button type="button" class="btn btn-outline-secondary" (click)="limpiar()">Limpiar</button>
      <button type="submit" class="btn btn-primary">Registrar</button>
    </div>
  </form>
</section>
