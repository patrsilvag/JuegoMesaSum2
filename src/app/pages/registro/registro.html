<section class="registro-container">
  <h2 class="text-center mb-4">Formulario de Registro</h2>

  <form [formGroup]="form" (ngSubmit)="submit()" class="registro-form">
    <!-- NOMBRE -->
    <label>Nombre completo:</label>
    <input
      type="text"
      class="form-control"
      formControlName="nombre"
      placeholder="Ej: Patricio Silva"
    />
    <small *ngIf="campo('nombre').touched && campo('nombre').invalid" class="error">
      Ingresa un nombre v√°lido.
    </small>

    <!-- USUARIO -->
    <label>Nombre de usuario:</label>
    <input type="text" class="form-control" formControlName="usuario" placeholder="Ej: PSilva" />
    <small *ngIf="campo('usuario').touched && campo('usuario').invalid" class="error">
      Debe tener al menos 3 caracteres.
    </small>

    <!-- CORREO -->
    <label>Correo electr√≥nico:</label>
    <input
      type="email"
      class="form-control"
      formControlName="correo"
      placeholder="Ej: PSilva@gmail.com"
    />
    <small
      *ngIf="campo('correo').touched && campo('correo').invalid && !campo('correo').errors?.['existe']"
      class="error"
    >
      Ingresa un correo v√°lido.
    </small>
    <small *ngIf="campo('correo').errors?.['existe']" class="error">
      Este correo ya se encuentra registrado.
    </small>

    <!-- CLAVE -->
    <label>Clave de ingreso:</label>
    <div class="input-group password-group">
      <input [type]="verClave ? 'text' : 'password'" class="form-control" formControlName="clave" />
      <button type="button" class="btn-ojo" (click)="verClave = !verClave">üëÅÔ∏è</button>
    </div>

    <!-- REGLAS -->
    <div class="reglas" *ngIf="campo('clave').touched">
      <span [class.ok]="campo('clave').value && !campo('clave').errors?.['minlength']">
        M√≠n. 6
      </span>
      <span [class.ok]="campo('clave').value && !campo('clave').errors?.['maxlength']">
        M√°x. 18
      </span>
      <span [class.ok]="campo('clave').value && !campo('clave').errors?.['uppercase']">
        May√∫scula
      </span>
      <span [class.ok]="campo('clave').value && !campo('clave').errors?.['number']"> N√∫mero </span>
    </div>

    <!-- REPETIR CLAVE -->
    <label>Repetir clave:</label>
    <div class="input-group password-group">
      <input
        [type]="verClave2 ? 'text' : 'password'"
        formControlName="repetirClave"
        class="form-control"
      />
      <button type="button" class="btn-ojo" (click)="verClave2 = !verClave2">üëÅÔ∏è</button>
    </div>

    <small *ngIf="form.errors?.['noCoinciden'] && campo('repetirClave').touched" class="error">
      {{ form.errors?.['noCoinciden'] }}
    </small>

    <!-- FECHA -->
    <label>Fecha de nacimiento:</label>
    <input type="date" formControlName="fechaNacimiento" class="form-control" />
    <small
      *ngIf="
        campo('fechaNacimiento').errors &&
        (campo('fechaNacimiento').dirty || campo('fechaNacimiento').touched)
      "
      class="error"
    >
      {{ getFechaError() }}
    </small>

    <!-- DIRECCI√ìN -->
    <label>Direcci√≥n de despacho (opcional):</label>
    <input type="text" formControlName="direccion" class="form-control" />

    <!-- BOTONES -->
    <div class="botones">
      <button type="button" class="btn btn-outline-secondary" (click)="limpiar()">Limpiar</button>
      <button type="submit" class="btn btn-primary">Registrar</button>
    </div>
  </form>
</section>
